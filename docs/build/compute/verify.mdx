import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Verify

Verification of the nilCC computation is important for the validity and integrity of the TEE (Trusted Execution Environment) nilCC is running in. The hardware guarantee for privacy and cryptographic proof can be verified using our workload platform.

# Key Terms
- Docker Compose Hash: SHA256 hash of your Docker Compose file. It's calculated from the Docker Compose file shown above.
- Measurement Hash: Attestation hash from the `/report` URL, which maps to the TEE verification.

# Prerequisite
1. Have a working nilCC workload running.
2. Understanding of Docker and Git.

# Usage
![nilcc verify first step](/img/verify_first_step.png)

1. Visit the nilCC workload platform: https://nilcc.nillion.com/verify
2. You can either precompute your measurement hash or compute it locally yourself. The main difference between `precompute` and `local` measurement hash is that the local one is the true attestation that your measurement hash equals the measurement hash provided by nilCC. This is the purest form of TEE attestation for a developer. We recommend `precompute` for quick and easy understanding of TEE verification, but `local` if you want the Badge Embedding feature below or to fully understand the privacy flow.

<Tabs>
    <TabItem value="precompute" label="Precompute" default>
        Precompute will rely on using your measurement hash provided by the `/report` URL from the nilcc workload . Just simply toggle to the PreCompute side and it should automatically fetch it.
    </TabItem>
    <TabItem value="local" label="Local" default>
        Local hash generation is the true verification and allows you the do the Badge Embedding below as well. It can be done by following this repo [example.](https://github.com/NillionNetwork/blind-module-examples/tree/main/nilcc/attestation-verification). 
        
        Following a similar strucutre to the repo strucutre

        ```
            docker-compose.yaml
            scripts/measurement-hash.sh
        ```

        To run this verification, add your docker-compose and then run the script to get your locally generaated measurement hash which should output to a `measurement-hash.json`.
        
        ```
        cd scripts
        chmod +x measurement-hash.sh
        ./measurement-hash.sh     
        ```  
    </TabItem>

</Tabs>


---
### Badge Embedding (Optional)

![nilcc verify badge](/img/verify_badge.png)

If you want to add a nilCC verification badge to your website, this is possible if you provide a measurement-hash.json like [this](https://github.com/NillionNetwork/blind-module-examples/blob/main/nilcc/attestation-verification/measurement-hash.json). This relates to the `local` measurement hash computation in Step 2.

1. Provide your Attestation JSON.
2. If it is valid you will have an option to use the `React/JSX` embedding code to put on your website.

