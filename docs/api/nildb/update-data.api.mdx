---
id: update-data
title: 'Update data'
description: 'Update documents within a schema collection that match the given filter'
sidebar_label: 'Update'
hide_title: true
hide_table_of_contents: true
api: eJytVk1T4zgQ/SsqXRaq4oTwkdnNDQhTld2aGWqB2QPDQbbaiUCWvJJMSKXy37dbdhITp5YLHIIstdSvu18/acUl+MypMihr+Jg/lFIEYNJmVQEmeLZQYa4ME8xncygEy6zWkJE1C3MRWCFCNschsJl6BcNypQM43uMessqpsOTjxxV/XgT8/7R+6vEgZh7HfCKC4Pjt4N8KfLiyEk1XPLMmoGMairLUKhPka/DsCd6K1yhoFJYlIGCbPiMcXp+jHEg6u7Hq8S2aKsZF/kpnS3BBgX9/3vs8XLLKYDzOC62XNEaQTElEpnIFjuXWxaBVgKKP5zdofHDKzMixdZgZnKkqJWldBU0GDw/TCV9vgR2Io1DmtgVx2ONCSkWwhG4vBFdBbw/1N2tmdnKV+LDUwBCyW+4KsoHwtZ5Yb5NCqT7oogtuP0m5hjeVoq/agmG27AIzwIRZshdYJq9CY+JKoZzvscUcHLA45VkmDEtxYx5tyVGfr+s/KqYvrfE1iNOTk26B7jH5aFXpQEdQKepoGMGPnEG4n0Im2RD1PXHi7Ac7Y2+AvLaViZW1ksjTfHdObKxbh5qqSNuVOrS2Tdn5oSz9FFrJGDRDwqK/DLyn+oBz1vnPSlGgk5ojO3GFNpO6DUKBJUEV0KEXlTge+ptnZOCDKMo+paNxdaBrtfKRENGC4R4vZuB3DSqcE0v8pL6NByD5fuRRo94jXPe6Ib+PK7MSupEhusbrgbX1+inWatOKN4SSb+o37Ab0TdXlwliUeaVisj//uScnF4fKPcVaOmxi5sGheNVZ4OuIKcwt1oqX1sdQRJjj10CUavA6HBCbB40ckHTTbh+zUjmNdvMQSj8eDIzSMk0kFLaPQ41e+wbCwroXTtq+0fw7Yk2dpaj820TQOeQgruN3CsJFcaoHXzekoCC7ajOZThJcYVXMCfX8zd3pxegvlJ2ZRb/zIuqyqHAJhTqjlmFgZGkVXmX9X4Y2l2KprZCsqJApymS6kjD+ZRKmRBizqfcVbsKLbcs4WoO3csxu3kpVS8tukR05yGyBd6UEeUymopJjdi/cDAIzSBEmIUM0Dovn8eTWHXKE8cQtWOQxu9YKV5DqH9nHelJ//r27OW/eEIuGdsfys1z8fpGPzpOLL8MvyfnF6DRJz/IsOc3+GJ3lo5HIxYi3biI6VpncxnI1BMUiT67Y5e0UDYkSdSVO+uf9k059fiqvAnvEp4PfkgNT83S0Ic/+yjEqv2SPMyxcldLE4Hu9+L2mVM223f4PDI9ZsEwjjwwrrIM+ZaoX+V6IqGVGRM5tnjgk4HsxtJ4fn/gSargf4C0MSi1UxBX7atX04SNqr6IUDwlRDWz3YplTy6LNapUKDw9Or9c0Ha93elXhPuGUSKli+MbCDSAklRTbF+9gdH1dR5XcExIyxxuYxHBf8En06h2XWQZl+F/bp5aq3P64o4ZNm0dcEaWRO7GgiwJ/xxwHNmY5qkKcW3EtzKyKUsnrM4mD1L4tydiTiLZUo3a3EGJ6osW9fQGDKeo1oQT65lF5/wOWE8oM
sidebar_class_name: 'post api-method'
info_path: api/nildb/nildb-api
custom_edit_url: null
---

import MethodEndpoint from '@theme/ApiExplorer/MethodEndpoint';
import ParamsDetails from '@theme/ParamsDetails';
import RequestSchema from '@theme/RequestSchema';
import StatusCodes from '@theme/StatusCodes';
import OperationTabs from '@theme/OperationTabs';
import TabItem from '@theme/TabItem';
import Heading from '@theme/Heading';

<Heading
  as={'h1'}
  className={'openapi__heading'}
  children={'Update data'}
></Heading>

<MethodEndpoint
  method={'post'}
  path={'/api/v1/data/update'}
  context={'endpoint'}
></MethodEndpoint>

:::info
You may use this test Bearer token we have created for development

```
eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NksifQ.eyJpc3MiOiJkaWQ6bmlsOnRlc3RuZXQ6bmlsbGlvbjF4dnRuM2FhajQ4dGY3bm5zZW16MGQ2OGVwbjZlcHU0ZjRhNG5mYSIsImF1ZCI6ImRpZDpuaWw6dGVzdG5ldDpuaWxsaW9uMXd3c3Jqbmd4dnU5dGMzMzVsajlrM213d3JybDV3M3EyZDB1ZXR6In0.yOKg-wyJdyn9jK-KNtkjbi9PS0pF9wmgVmd7pIeNGhoTjhgZhzB62atbgzE45OGGYx0gUsw_i2k3K2AdFf_tuQ
```

:::

Update documents within a schema collection that match the given filter

<Heading
  id={'request'}
  as={'h2'}
  className={'openapi-tabs__heading'}
  children={'Request'}
></Heading>

<ParamsDetails parameters={undefined}></ParamsDetails>

<RequestSchema
  title={'Body'}
  body={{
    content: {
      'application/json': {
        schema: {
          type: 'object',
          required: ['schema', 'filter', 'update'],
          properties: {
            schema: {
              description: 'A universally unique identifier for the item.',
              type: 'string',
              format: 'uuid',
              title: 'UUID',
            },
            filter: {
              type: 'object',
              minProperties: 1,
              additionalProperties: true,
              description: 'MongoDB-style query filter',
              title: 'Filter',
            },
            update: {
              additionalProperties: {
                type: 'object',
                description:
                  'A flexible object allowing any key-value pairs, where values can be of any type.',
              },
            },
          },
        },
      },
    },
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    '200': {
      description: 'The result of the update operation',
      content: {
        'application/json': {
          schema: {
            type: 'object',
            required: ['data'],
            properties: {
              data: {
                type: 'object',
                required: ['matchedCount', 'modifiedCount'],
                properties: {
                  matched: { type: 'number' },
                  updated: { type: 'number' },
                },
              },
            },
          },
        },
      },
    },
    '400': {
      description: 'Validation or processing errors',
      content: {
        'application/json': {
          schema: {
            type: 'object',
            required: ['ts', 'errors'],
            properties: {
              ts: {
                type: 'string',
                format: 'date-time',
                description: "The error's timestamp.",
              },
              errors: {
                description: 'A list of error messages',
                type: 'array',
                items: {
                  anyOf: [
                    { type: 'string' },
                    {
                      type: 'object',
                      properties: {
                        code: { type: 'string' },
                        message: { type: 'string' },
                      },
                    },
                  ],
                },
              },
            },
            title: 'Error',
          },
        },
      },
    },
    '401': { description: 'Missing or invalid JWT' },
    '500': { description: 'Internal server error' },
  }}
></StatusCodes>
