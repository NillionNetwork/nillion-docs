import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';


# Run a Verifier Node

Anyone in the community can run a permissionless Blacklight verifier node. Verifier nodes continuously challenge and verify Trusted Execution Environment (TEE) workloads, helping to ensure the security and correctness of applications running on the Blind Computer.

By running a Blacklight node, you contribute to the network's security while earning rewards.

## Getting Started

The easiest way to set up a Blacklight verifier node is through the Blacklight webapp, which guides you step by step through installation, funding, and operation.

ðŸ‘‰ Webapp: https://blacklight.nillion.com

Below is a highâ€‘level walkthrough of the full process so you know what to expect.

## Prerequisites

Ensure you have NIL and ETH on Nillion's Ethereum L2.
You can find a [prerequisites guide here](/blacklight/verify/prerequisites).

Note, your Blacklight node must be online 24/7 to handle verification tasks. We recommend running it on a VPS. See [FAQs for suggested minimum requirements](https://blacklight-app-mainnet.vercel.app/#faq).

## Step 1: Select Platform & Install Docker

<div style={{display: 'flex', gap: '1rem', flexWrap: 'wrap', marginBottom: '1.5rem'}}>
  <img src="/img/webapp_choose_platform.png" alt="Webapp pull and run Blacklight node" style={{width: '48%', minWidth: '200px', flex: '1'}} />
  <img src="/img/webapp_docker_command.png" alt="Webapp pull and run Blacklight node" style={{width: '48%', minWidth: '200px', flex: '1'}} />
</div>

Blacklight verifier nodes run inside Docker containers. Install Docker for your operating system using the instructions below.

<Tabs>
<TabItem value="macOS" label="macOS">


```bash
brew install --cask docker
```

Alternatively, you can [download Docker Desktop](https://www.docker.com/products/docker-desktop/) instead.
</TabItem>

<TabItem value="Linux" label="Linux">


```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
```

</TabItem>
<TabItem value="Windows" label="Windows">


Download and install [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop/).
</TabItem>
</Tabs>

> **Note:** After installation, you may need to restart your terminal.

## Step 2: Setup & Run Node

<img src="/img/webapp_pull_run_docker.png" alt="Webapp pull and run Blacklight node" style={{width: '100%'}} />

First, pull the Blacklight node Docker image:

```bash
docker pull ghcr.io/nillionnetwork/blacklight-node/blacklight_node:0.9.0
```

Next, run the node once to initialize it and generate a wallet:

```bash
docker run -it --rm -v ./blacklight_node:/app/ -v ./blacklight_node:/tmp/blacklight-cache ghcr.io/nillionnetwork/blacklight-node/blacklight_node:0.9.0 --rpc-url https://rpc.testnet.nillion.network --manager-contract-address 0x8d683fb2CC794E085E8366c4f28f8CC991107576 --staking-contract-address 0x595A112FA10ED66Bc518b28781035BA50C9f2216 --token-contract-address 0x69AD6D3E17C99A3f66b5Ae410a5D1D4E14C7da35
```

On first run, the node will:

1. Generate a new wallet
2. Save it locally to ./blacklight_node/blacklight_node.env
3. Print the wallet address to the terminal

You will need this wallet address in the next steps.

You can see the expected output at the command line, and the generated wallet address below.

<img src="/img/node_terminal_not_funded.png" alt="Unfunded Blacklight node terminal" style={{width: '100%'}} />

## Step 3: Stake NIL Tokens to your Blacklight Node

<img src="/img/webapp_stake_nil.png" alt="Webapp stake NIL" style={{width: '100%'}} />

Next, you will stake NIL tokens to your Blacklight node. To be eligible for verification work, your node must have at least 70,000 NIL staked.

In the webapp, enter the amount you would like to stake to your Blacklight node, click stake and sign the transaction in your wallet.

## Step 4: Stake ETH to your Blacklight Node

<img src="/img/webapp_stake_eth.png" alt="Webapp stake ETH" style={{width: '100%'}} />

Your Blacklight node will need a small amount of ETH on Nillion's L2 to pay for gas when sending verified transactions back to the L2.

In the webapp, enter the amount of ETH you would like to fund your node with and confirm the transaction.

We recommend funding the node between 0.001ETH and 0.01 ETH, which should be enough for a number of weeks of verifications.

## Step 5: Start Node

<img src="/img/webapp_run_node.png" alt="Webapp run node" style={{width: '100%'}} />

Finally, you need to set your Blacklight node running. Run the command below.

```bash
docker run -it --rm -v ./blacklight_node:/app/ -v ./blacklight_node:/tmp/blacklight-cache ghcr.io/nillionnetwork/blacklight-node/blacklight_node:0.9.0 --rpc-url https://rpc.nillion.network --manager-contract-address 0x0Ee49a8f50293Fa5d05Ba6d1FC136e7F79b2eA4f --staking-contract-address 0x89c1312Cedb0B0F67e4913D2076bd4a860652B69 --token-contract-address 0x32DEAe728473cb948B4D8661ac0f2755133D4173
```

After running this command, you should see "âœ… Ready to operate" followed by "Node registered successfully" in your terminal. This means your Blacklight node is successfully running correctly. 

## Node Dashboard

<img src="/img/webapp_dashboard.png" alt="Webapp dashboard" style={{width: '100%'}} />

Once your node is running, you can monitor it in the dashboard. Here you can view the status and manage your node. 

You can stake, unstake and then withdraw your funds. Note there is a 7 day unbonding period. Only after this period, you can withdraw your funds.

You can also claim your rewards (to the wallet you staked from) and fund your Blacklight node with more ETH.