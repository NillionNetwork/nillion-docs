import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Network API Access

nilPay allows you to subscribe and create credentials for using the [Private Storage](/blind-computer/build/storage/overview) and [Private LLMs](/blind-computer/build/llms/overview) network APIs.

This guide walks you through the process of creating an API key.

{/* <iframe
  width='100%'
  height='500'
  src='https://www.youtube.com/embed/F1pWAUV78rg'
  title='YouTube video player'
  frameborder='0'
  allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture'
  allowfullscreen
></iframe> */}


## Prerequisite
You must have acquired some Sepolia ETH + NIL via this [faucet guide.](/community/guides/testnet-faucet)

## Create an API Key

Open up the [nilPay Subscription Portal](https://subscription.nillion.com) to create an API key. Sign in via your desired EVM browser wallet.

![nilPay Page](/img/nilpay-main-page.png)

## Connecting to Sepolia
Your EVM wallet should connect to the nilPay Portal. Select `Sepolia` for your desired network.

![nilPay Page](/img/nilpay-identity.png)

## Identity Options

You have several options on which identity you would like to issue / have access to your nilDB and/or nilAI subscription.

![nilPay Payment Types](/img/nilpay-identity-explainer.png)

- `My Wallet:` Your current ETH wallet address
- `Another identity:` You may issue access for another Ethereum address.
- `Generate new Identity:`
- `Import secret key:`

Here is more context regarding the `did:eth` formats.

A DID (Decentralized Identifier) is an unique cryptographic identifier for builders, users, and nodes. Format: `did:eth` which is derived from public keys for verifiable authentication.

<Tabs>
<TabItem value='nilDB' label='Private Storage' default>

![nilPay Payment Types](/img/nilpay-payment-types.png)

For nilDB, you can use all of these options to pay for the subscription.
- If you want an Ethereum wallet to be the authority for your keys you can use the `Browser Wallet` option.
- Otherwise if you prefer to be key based, you may import one of your older keys via `Use Secret Key` or `Generate New Key` to create a new one.

If using the Browser Wallet option, you have two options:
1. Pay for yourself which is recommended if you are the developer of the application.
2. Paying for others which is recommended if you are subscribing on behalf of someone else.

</TabItem>

<TabItem value='nilAI' label='Private LLM' default>

![nilPay Payment Types](/img/nilpay-payment-ai-flow.png)

For nilAI, you can either use the `Use Secret Key` or `Generate New Key` option for now.

Also ensure to mark the `Create legacy did:nil (for backwards compatibility). This must be selected for nilAI` checkbox for backwards compatibility.

</TabItem>
</Tabs>

## Subscription to nilAI and/or nilDB

You have the required NIL from the [prerequisite](#prerequisite) / [testnet faucet.](https://faucet.testnet.nillion.network/) so you should be able to subscribe to either of the services.

Click on the either `Purchase` for `nilDB` or `nilAI` to subscribe and follow the wallet prompts.

After the payment goes through, you will have a 28 day subscription to the service and can now use your keys.

![nilPay Successful Subscription](/img/nilpay-successful-payment.png)